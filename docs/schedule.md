**第一周：Django 基础与项目骨架搭建 (Django Fundamentals & Project Scaffolding)**

*   **任务：**
    *   **[核心] Django 学习与环境搭建：**
        *   团队成员（尤其是负责 Web 开发的）集中学习/复习 Django 核心概念：项目 (Project) 与应用 (App) 结构、模型 (Models)、视图 (Views)、模板 (Templates)、URL 路由、设置 (Settings)、表单 (Forms)。
        *   安装 Django，创建项目和核心应用（例如 `quiz_generator`）。
        *   配置数据库（初期可使用 SQLite）。
    *   **[核心] 定义数据模型 (Models)：**
        *   思考需要存储哪些数据。初步可以很简单，例如：
            *   `LearningMaterial(text_content=TextField)`: 存储用户输入的学习材料。
            *   `GeneratedQuiz(material=ForeignKey(LearningMaterial), question_text=TextField, question_type=CharField, options=JSONField, correct_answer=CharField)`: 存储生成的题目。
            *   *暂时不考虑用户模型，除非时间非常充裕。*
        *   运行 `makemigrations` 和 `migrate`。
    *   **[核心] 搭建基础 URL 路由和视图 (Views)：**
        *   创建至少一个能响应请求的简单视图函数/类。
        *   配置 `urls.py` 将 URL 映射到该视图。
    *   **[核心] 创建基础 HTML 模板 (Templates)：**
        *   设置模板目录，创建一个基础布局模板 (base.html)。
        *   创建一个简单的页面（例如，用于输入学习材料的表单页面），继承基础模板。
    *   **LLM 对接准备：** 确认 LLM 接口（API 或本地模型）的调用方式，准备好 Python 函数（可以暂时不集成到 Django view 中）。
*   **目标与产出：**
    *   一个基本的 Django 项目骨架搭建完成。
    *   能够通过浏览器访问一个由 Django 渲染的简单页面。
    *   对 Django 的基本工作流程有初步实践。
    *   数据库模型初步定义并迁移。

**第二周：核心 AI 逻辑集成与基础表单交互 (AI Core Integration & Basic Form Interaction)**

*   **任务：**
    *   **[核心] 将 AI 生成逻辑集成到 Django 视图中：**
        *   在视图函数/类中，接收用户通过表单提交的学习材料文本。
        *   调用之前准备好的 LLM 交互函数（使用 LangChain 等）生成测验题目 (JSON 格式)。
        *   **[挑战]** 将生成的题目数据存入数据库（例如 `GeneratedQuiz` 模型）。
    *   **[核心] 创建和处理 Django 表单 (Forms)：**
        *   创建一个 Django 表单类用于接收用户输入的学习材料。
        *   在视图中处理表单的验证和数据提取。
    *   **[核心] 在模板中展示生成的题目：**
        *   从数据库中读取生成的测验题目。
        *   在 HTML 模板中通过 Django 模板语言循环展示题目、选项（需要前端的单选按钮等）。
    *   **初步实现答案提交逻辑 (前端 -> 后端)：**
        *   设计用户如何提交答案（例如，一个包含所有题目答案的表单）。
        *   后端视图接收答案数据（暂时可以只接收，不做判断）。
    *   **[强化] Prompt 工程 V1.0：** 初步设计和测试用于生成题目和解释的 Prompt。
*   **目标与产出：**
    *   用户可以通过 Django 表单提交学习材料。
    *   系统能够调用 LLM 生成测验题目并存储到数据库。
    *   生成的题目能够在前端页面上展示出来。
    *   用户可以提交答案（后端能接收到）。
    *   **这是最关键的一周，打通了 Django 与 AI 核心的连接。**

**第三周：答案判断、解释生成与前端体验优化 (Answer Evaluation, Explanation & Frontend Polish)**

*   **任务：**
    *   **[核心] 实现答案判断逻辑：**
        *   在后端视图中，对比用户提交的答案与数据库中存储的正确答案。
        *   记录每道题的对错。
    *   **[核心] 集成 AI 解释生成功能：**
        *   对于答错的题目，设计一个机制（如按钮）触发解释生成。
        *   调用 LLM 生成针对性的解释文本。
        *   **[挑战]** 将解释与对应的题目关联起来，并展示给用户（可能需要 AJAX 异步请求以获得更好的体验，如果时间允许；否则简单的页面刷新也可以）。
    *   **[核心] 在模板中展示反馈和解释：**
        *   清晰地向用户展示每道题的对错。
        *   对于错误题目，展示 AI 生成的解释。
    *   **[强化] 前端界面美化与交互改进：**
        *   使用简单的 CSS 框架 (如 Bootstrap) 改善页面布局和视觉效果。
        *   优化表单和按钮的交互。
        *   确保信息展示清晰。
    *   **[强化] Prompt 工程 V2.0：** 根据实际效果迭代优化题目和解释的 Prompt。
    *   **[新增] 基础错误处理：** 在 Django 视图中加入对常见错误的捕获和友好提示（如 LLM 调用失败）。
*   **目标与产出：**
    *   完整的“输入-测验-作答-反馈-解释”核心流程在 Django 框架下实现。
    *   AI 生成的题目和解释能够被有效利用。
    *   前端界面具备基本可用性和一定的美观度。
    *   应用具备基础的健壮性。

**第四周：全面测试、文档完善与演示准备 (Testing, Documentation & Demo Prep)**

*   **任务：**
    *   **[重点] 系统性测试：**
        *   设计测试用例，覆盖 Django 的视图逻辑、表单处理、数据库交互、AI 功能调用。
        *   测试不同学习材料的输入效果。
        *   进行前端交互测试。
    *   **Bug 修复：** 集中修复测试中发现的问题（Django 相关 Bug 和 AI 逻辑 Bug）。
    *   **[强化] 项目文档：**
        *   完善 Django 项目的 README（项目介绍、环境配置、如何运行、应用结构说明）。
        *   为关键的 Django 模型、视图、表单和核心 AI 函数添加注释。
    *   **[强化] 演示材料准备：**
        *   制作精美的 PPT，清晰阐述项目背景、功能、亮点、技术架构（强调 Django 的使用）和演示流程。
        *   准备流畅、有说服力的演示讲稿 (Demo Script)。
        *   **多次演练 Demo**，确保过程流畅，能清晰展示 Django 应用的运行情况。
    *   **(可选) 静态文件处理与部署准备：** 了解 Django 的静态文件 (CSS, JS, Images) 管理，如果需要公开演示，考虑简单的部署方案（如 Heroku, PythonAnywhere 的免费套餐，或使用 Nginx + Gunicorn 本地模拟）。
*   **目标与产出：**
    *   一个经过充分测试、功能相对稳定、基于 Django 构建的“知问泉”Web 应用原型。
    *   完整的项目文档和高质量的演示材料。
    *   团队对 Django 应用的开发和部署有更深入的理解。

**团队分工调整：**

*   **成员 A (Django Web Developer & Backend Lead):**
    *   **重点负责 Django 项目的搭建、模型设计、视图逻辑、URL 路由、表单处理、模板继承与渲染。**
    *   与成员 B 协作集成 AI 核心逻辑。
    *   负责数据库相关操作。
    *   需要有较强的 Django 学习和实践能力。
*   **成员 B (AI Core & LLM Integration):**
    *   **重点负责 LangChain 的使用、Prompt Engineering (与成员 A 共同设计)、LLM API/模型调用、题目与解释生成的核心 Python 逻辑。**
    *   将其核心 AI 函数封装好，供成员 A 在 Django 视图中调用。
    *   负责 AI 生成内容的质量评估与优化。
*   **成员 C (Frontend & Testing/Documentation):**
    *   **重点负责 Django 模板的编写（HTML）、使用 CSS 框架进行基础的页面美化和布局。**
    *   负责前端交互的简单实现和调试。
    *   **重点负责项目的全面测试工作**（从用户角度和开发者角度）。
    *   负责项目文档的撰写和演示材料的制作。
    *   如果团队中有人对前端更熟悉，可以承担更多前端任务。

**重要说明与风险：**

*   **时间非常紧张：** 用四周时间从零开始（或基础薄弱）学习并应用 Django 构建一个包含 AI 功能的应用，挑战巨大。团队需要极高的投入度和协作效率。
*   **前端是潜在瓶颈：** 即使使用模板，前端开发也可能消耗大量时间。**务必保持前端简洁、功能优先。**
*   **学习成本：** Django 的学习曲线不应被低估。第一周需要投入大量时间在学习和理解框架本身。
*   **AI 核心优化时间可能被压缩：** 由于框架学习和 Web 开发占用了更多时间，纯粹用于 Prompt Engineering 和 AI 效果打磨的时间可能会比使用 Streamlit/Gradio 时少。需要在计划中刻意保证 AI 核心的投入。
*   **数据库设计简单化：** 初期避免复杂的数据库关系和查询，SQLite 足够原型阶段使用。